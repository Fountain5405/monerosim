# Minimal phase switching test
# Just 2 miners + 1 phased user

general:
  stop_time: 1h
  parallelism: 0
  simulation_seed: 42
  enable_dns_server: true
  shadow_log_level: warning
  process_threads: 2
  daemon_defaults:
    log-level: 1
    log-file: /dev/stdout
    db-sync-mode: fastest
    no-zmq: true
    non-interactive: true
    disable-rpc-ban: true
    allow-local-ip: true
  wallet_defaults:
    log-level: 1
    log-file: /dev/stdout

network:
  type: 1_gbit_switch
  peer_mode: Dynamic

agents:
  miner-001:
    daemon: monerod
    wallet: monero-wallet-rpc
    script: agents.autonomous_miner
    start_time: 0s
    hashrate: 50
    can_receive_distributions: true

  miner-002:
    daemon: monerod
    wallet: monero-wallet-rpc
    script: agents.autonomous_miner
    start_time: 1s
    hashrate: 50
    can_receive_distributions: true

  # User with daemon phase switch at 30m
  # Using 30s gap as in original test config (flat format)
  user-001:
    wallet: monero-wallet-rpc
    script: agents.regular_user
    start_time: 5s
    transaction_interval: 120
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: "5s"
    daemon_0_stop: "30m"
    daemon_1: monerod
    daemon_1_start: "1830s"
