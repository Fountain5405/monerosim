# Monerosim upgrade scenario configuration
# Generated by generate_config.py --scenario upgrade
# Total agents: 30 (5 miners + 25 users)
# Duration: 9h 15m (extended from 8h)
# Network topology: gml_processing/1200_nodes_caida_with_loops.gml
#
# Upgrade configuration:
#   Binary v1: monerod
#   Binary v2: monerod
#   Upgrade order: sequential
#   Upgrade stagger: 30s
#
# Timeline:
#   t=0:           Miners start
#   t=3h:         Users spawn (staggered 5s apart)
#   t=3h 2m:     Last user spawns
#   t=4h:     Bootstrap ends (+20% buffer), distributor starts funding
#   t=5h:     Users start sending transactions (steady state begins)
#   t=7h:     Network upgrade begins (nodes switch v1 -> v2)
#   t=7h 15m:    Last node completes upgrade
#   t=9h 15m:    Simulation ends (post-upgrade observation)

general:
  stop_time: 555m
  parallelism: 0
  simulation_seed: 12345
  enable_dns_server: true
  shadow_log_level: info
  bootstrap_end_time: 4h
  progress: true
  daemon_defaults:
    log-level: 1
    log-file: /dev/stdout
    db-sync-mode: fastest
    no-zmq: true
    non-interactive: true
    disable-rpc-ban: true
    allow-local-ip: true
  wallet_defaults:
    log-level: 1
    log-file: /dev/stdout
network:
  path: gml_processing/1200_nodes_caida_with_loops.gml
  peer_mode: Dynamic
agents:
  miner-001:
    wallet: 'monero-wallet-rpc'
    script: agents.autonomous_miner
    start_time: 0s
    hashrate: 25
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 0s
    daemon_0_stop: 7h
    daemon_1: monerod
    daemon_1_start: 25230s
  miner-002:
    wallet: 'monero-wallet-rpc'
    script: agents.autonomous_miner
    start_time: 1s
    hashrate: 25
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 1s
    daemon_0_stop: 25230s
    daemon_1: monerod
    daemon_1_start: 421m
  miner-003:
    wallet: 'monero-wallet-rpc'
    script: agents.autonomous_miner
    start_time: 2s
    hashrate: 30
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 2s
    daemon_0_stop: 421m
    daemon_1: monerod
    daemon_1_start: 25290s
  miner-004:
    wallet: 'monero-wallet-rpc'
    script: agents.autonomous_miner
    start_time: 3s
    hashrate: 10
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 3s
    daemon_0_stop: 25290s
    daemon_1: monerod
    daemon_1_start: 422m
  miner-005:
    wallet: 'monero-wallet-rpc'
    script: agents.autonomous_miner
    start_time: 4s
    hashrate: 10
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 4s
    daemon_0_stop: 422m
    daemon_1: monerod
    daemon_1_start: 25350s
  user-001:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 3h
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 3h
    daemon_0_stop: 25350s
    daemon_1: monerod
    daemon_1_start: 423m
  user-002:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10805s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10805s
    daemon_0_stop: 423m
    daemon_1: monerod
    daemon_1_start: 25410s
  user-003:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10810s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10810s
    daemon_0_stop: 25410s
    daemon_1: monerod
    daemon_1_start: 424m
  user-004:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10815s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10815s
    daemon_0_stop: 424m
    daemon_1: monerod
    daemon_1_start: 25470s
  user-005:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10820s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10820s
    daemon_0_stop: 25470s
    daemon_1: monerod
    daemon_1_start: 425m
  user-006:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10825s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10825s
    daemon_0_stop: 425m
    daemon_1: monerod
    daemon_1_start: 25530s
  user-007:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10830s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10830s
    daemon_0_stop: 25530s
    daemon_1: monerod
    daemon_1_start: 426m
  user-008:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10835s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10835s
    daemon_0_stop: 426m
    daemon_1: monerod
    daemon_1_start: 25590s
  user-009:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10840s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10840s
    daemon_0_stop: 25590s
    daemon_1: monerod
    daemon_1_start: 427m
  user-010:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10845s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10845s
    daemon_0_stop: 427m
    daemon_1: monerod
    daemon_1_start: 25650s
  user-011:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10850s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10850s
    daemon_0_stop: 25650s
    daemon_1: monerod
    daemon_1_start: 428m
  user-012:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10855s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10855s
    daemon_0_stop: 428m
    daemon_1: monerod
    daemon_1_start: 25710s
  user-013:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 181m
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 181m
    daemon_0_stop: 25710s
    daemon_1: monerod
    daemon_1_start: 429m
  user-014:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10865s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10865s
    daemon_0_stop: 429m
    daemon_1: monerod
    daemon_1_start: 25770s
  user-015:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10870s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10870s
    daemon_0_stop: 25770s
    daemon_1: monerod
    daemon_1_start: 430m
  user-016:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10875s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10875s
    daemon_0_stop: 430m
    daemon_1: monerod
    daemon_1_start: 25830s
  user-017:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10880s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10880s
    daemon_0_stop: 25830s
    daemon_1: monerod
    daemon_1_start: 431m
  user-018:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10885s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10885s
    daemon_0_stop: 431m
    daemon_1: monerod
    daemon_1_start: 25890s
  user-019:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10890s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10890s
    daemon_0_stop: 25890s
    daemon_1: monerod
    daemon_1_start: 432m
  user-020:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10895s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10895s
    daemon_0_stop: 432m
    daemon_1: monerod
    daemon_1_start: 25950s
  user-021:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10900s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10900s
    daemon_0_stop: 25950s
    daemon_1: monerod
    daemon_1_start: 433m
  user-022:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10905s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10905s
    daemon_0_stop: 433m
    daemon_1: monerod
    daemon_1_start: 26010s
  user-023:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10910s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10910s
    daemon_0_stop: 26010s
    daemon_1: monerod
    daemon_1_start: 434m
  user-024:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 10915s
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 10915s
    daemon_0_stop: 434m
    daemon_1: monerod
    daemon_1_start: 26070s
  user-025:
    wallet: 'monero-wallet-rpc'
    script: agents.regular_user
    start_time: 182m
    transaction_interval: 60
    activity_start_time: 18000
    can_receive_distributions: true
    daemon_0: monerod
    daemon_0_start: 182m
    daemon_0_stop: 26070s
    daemon_1: monerod
    daemon_1_start: 435m
  miner-distributor:
    script: agents.miner_distributor
    wait_time: 14400
    initial_fund_amount: '1.0'
    max_transaction_amount: '2.0'
    min_transaction_amount: '0.5'
    transaction_frequency: 30
    outputs_per_transaction: 10
    output_amount: 100.0
  simulation-monitor:
    script: agents.simulation_monitor
    poll_interval: 300
    detailed_logging: false
    enable_alerts: true
    status_file: monerosim_monitor.log
