# Multi-Miner Mining Shim Configuration
# This example demonstrates a mining pool scenario with multiple miners:
# - 3 miners with different hashrate distributions (40%, 35%, 25%)
# - 2 observer nodes that synchronize and send transactions
# - Demonstrates mining shim scalability and deterministic behavior

general:
  stop_time: "10m"             # 10 minute simulation for more blocks
  fresh_blockchain: true       # Start from genesis block
  log_level: info              # Logging level
  simulation_seed: 12345       # Required for deterministic mining shim results
  mining_shim_path: "./mining_shim/libminingshim.so"  # Path to mining shim library

network:
  type: "1_gbit_switch"        # Simple network topology

agents:
  user_agents:
    # Miner 1 - Large miner (40% of total hashrate)
    - daemon: "monerod"
      wallet: "monero-wallet-rpc"
      attributes:
        is_miner: true              # Enables mining shim
        hashrate: "40000000"        # 40 MH/s (40% of total)
        can_receive_distributions: true

    # Miner 2 - Medium miner (35% of total hashrate)
    - daemon: "monerod"
      wallet: "monero-wallet-rpc"
      attributes:
        is_miner: true              # Enables mining shim
        hashrate: "35000000"        # 35 MH/s (35% of total)
        can_receive_distributions: true

    # Miner 3 - Small miner (25% of total hashrate)
    - daemon: "monerod"
      wallet: "monero-wallet-rpc"
      attributes:
        is_miner: true              # Enables mining shim
        hashrate: "25000000"        # 25 MH/s (25% of total)
        can_receive_distributions: true

    # Observer 1 - Regular user sending transactions
    - daemon: "monerod"
      wallet: "monero-wallet-rpc"
      user_script: "agents.regular_user"
      attributes:
        transaction_interval: "45"      # Send transaction every 45 seconds
        min_transaction_amount: "0.05"  # Minimum 0.05 XMR per transaction
        max_transaction_amount: "0.5"   # Maximum 0.5 XMR per transaction

    # Observer 2 - Another regular user with different behavior
    - daemon: "monerod"
      wallet: "monero-wallet-rpc"
      user_script: "agents.regular_user"
      attributes:
        transaction_interval: "90"      # Send transaction every 90 seconds
        min_transaction_amount: "0.2"   # Minimum 0.2 XMR per transaction
        max_transaction_amount: "2.0"   # Maximum 2.0 XMR per transaction

  # Note: No block_controller needed - mining shim handles mining coordination directly
  # The mining shim ensures miners coordinate through the shared blockchain state