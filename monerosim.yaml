# Monerosim test configuration
# 5 miners + 20 regular users on 30-node topology
general:
  fresh_blockchain: true
  log_level: info
  stop_time: 14400s  # 4 hours
  simulation_seed: 12345
  parallelism: 0
  enable_dns_server: true

network:
  path: gml_processing/30_nodes_caida_with_loops.gml
  peer_mode: Dynamic

agents:
  # Supporting agents
  miner_distributor:
    script: agents.miner_distributor
    attributes:
      initial_fund_amount: '1.0'
      max_transaction_amount: '2.0'
      min_transaction_amount: '0.5'
      transaction_frequency: '30'
      wait_time: '7500'  # Start after block maturity (60 blocks * 120s = 7200s) + buffer

  simulation_monitor:
    script: agents.simulation_monitor
    poll_interval: 500
    status_file: shadow.data/monerosim_monitor.log
    detailed_logging: false
    enable_alerts: true

  # 5 miners with hashrates totaling 100%
  user_agents:
  - daemon: monerod
    wallet: monero-wallet-rpc
    mining_script: agents.autonomous_miner
    attributes:
      is_miner: 'true'
      hashrate: '25'
      can_receive_distributions: true

  - daemon: monerod
    wallet: monero-wallet-rpc
    mining_script: agents.autonomous_miner
    attributes:
      is_miner: 'true'
      hashrate: '25'
      can_receive_distributions: true

  - daemon: monerod
    wallet: monero-wallet-rpc
    mining_script: agents.autonomous_miner
    attributes:
      is_miner: 'true'
      hashrate: '20'
      can_receive_distributions: true

  - daemon: monerod
    wallet: monero-wallet-rpc
    mining_script: agents.autonomous_miner
    attributes:
      is_miner: 'true'
      hashrate: '15'
      can_receive_distributions: true

  - daemon: monerod
    wallet: monero-wallet-rpc
    mining_script: agents.autonomous_miner
    attributes:
      is_miner: 'true'
      hashrate: '15'
      can_receive_distributions: true

  # 20 regular users with varying transaction patterns
  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '60'
      min_transaction_amount: '0.1'
      max_transaction_amount: '1.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '90'
      min_transaction_amount: '0.2'
      max_transaction_amount: '2.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '75'
      min_transaction_amount: '0.15'
      max_transaction_amount: '1.5'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '120'
      min_transaction_amount: '0.5'
      max_transaction_amount: '3.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '45'
      min_transaction_amount: '0.1'
      max_transaction_amount: '0.8'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '100'
      min_transaction_amount: '0.3'
      max_transaction_amount: '2.5'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '80'
      min_transaction_amount: '0.2'
      max_transaction_amount: '1.8'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '110'
      min_transaction_amount: '0.4'
      max_transaction_amount: '2.2'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '55'
      min_transaction_amount: '0.1'
      max_transaction_amount: '1.2'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '130'
      min_transaction_amount: '0.6'
      max_transaction_amount: '4.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '70'
      min_transaction_amount: '0.15'
      max_transaction_amount: '1.3'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '95'
      min_transaction_amount: '0.25'
      max_transaction_amount: '1.8'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '85'
      min_transaction_amount: '0.2'
      max_transaction_amount: '2.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '65'
      min_transaction_amount: '0.1'
      max_transaction_amount: '0.9'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '140'
      min_transaction_amount: '0.8'
      max_transaction_amount: '5.0'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '50'
      min_transaction_amount: '0.1'
      max_transaction_amount: '0.7'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '105'
      min_transaction_amount: '0.35'
      max_transaction_amount: '2.8'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '115'
      min_transaction_amount: '0.45'
      max_transaction_amount: '3.2'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: true
      transaction_interval: '125'
      min_transaction_amount: '0.5'
      max_transaction_amount: '3.5'

  - daemon: monerod
    wallet: monero-wallet-rpc
    user_script: agents.regular_user
    attributes:
      can_receive_distributions: false
      transaction_interval: '135'
      min_transaction_amount: '0.55'
      max_transaction_amount: '3.8'
