general:
  stop_time: 15m
  model_unblocked_syscall_latency: true
  log_level: trace
network:
  graph:
    type: 1_gbit_switch
experimental:
  use_dynamic_runahead: true
hosts:
  node-2:
    network_node_id: 0
    ip_addr: 11.0.0.2
    processes:
    - path: /home/lever65/monerosim_dev/monerosim/monerod
      args: --data-dir=/tmp/monero-node-2 --log-file=/dev/stdout --log-level=1 --simulation --disable-dns-checkpoints --out-peers=8 --in-peers=8 --disable-seed-nodes --no-igd --prep-blocks-threads=1 --max-concurrency=1 --no-zmq --db-sync-mode=safe --non-interactive --max-connections-per-ip=20 --limit-rate-up=2048 --limit-rate-down=2048 --block-sync-size=1 --rpc-bind-ip=11.0.0.2 --rpc-bind-port=28090 --confirm-external-bind --disable-rpc-ban --rpc-access-control-origins=* --regtest --p2p-bind-ip=11.0.0.2 --p2p-bind-port=28080 --fixed-difficulty=200
      environment:
        MONERO_MAX_CONNECTIONS_PER_IP: '20'
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MONERO_BLOCK_SYNC_SIZE: '1'
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
        MONERO_DISABLE_DNS: '1'
      start_time: 1s
  wallet1:
    network_node_id: 0
    ip_addr: 11.0.0.3
    processes:
    - path: /bin/bash
      args: -c 'rm -rf /tmp/wallet1_data && mkdir -p /tmp/wallet1_data && chmod 777 /tmp/wallet1_data && /home/lever65/monerosim_dev/monerosim/monero-wallet-rpc --daemon-address=11.0.0.1:28090 --rpc-bind-port=28091 --rpc-bind-ip=11.0.0.3 --disable-rpc-login --trusted-daemon --log-level=1 --wallet-dir=/tmp/wallet1_data --non-interactive --confirm-external-bind --allow-mismatched-daemon-version --max-concurrency=1 --daemon-ssl-allow-any-cert'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 45s
  node-3:
    network_node_id: 0
    ip_addr: 11.0.0.3
    processes:
    - path: /home/lever65/monerosim_dev/monerosim/monerod
      args: --data-dir=/tmp/monero-node-3 --log-file=/dev/stdout --log-level=1 --simulation --disable-dns-checkpoints --out-peers=8 --in-peers=8 --disable-seed-nodes --no-igd --prep-blocks-threads=1 --max-concurrency=1 --no-zmq --db-sync-mode=safe --non-interactive --max-connections-per-ip=20 --limit-rate-up=2048 --limit-rate-down=2048 --block-sync-size=1 --rpc-bind-ip=11.0.0.3 --rpc-bind-port=28090 --confirm-external-bind --disable-rpc-ban --rpc-access-control-origins=* --regtest --p2p-bind-ip=11.0.0.3 --p2p-bind-port=28080 --fixed-difficulty=200
      environment:
        MONERO_MAX_CONNECTIONS_PER_IP: '20'
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MONERO_BLOCK_SYNC_SIZE: '1'
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
        MONERO_DISABLE_DNS: '1'
      start_time: 1s
  node-5:
    network_node_id: 0
    ip_addr: 11.0.0.5
    processes:
    - path: /home/lever65/monerosim_dev/monerosim/monerod
      args: --data-dir=/tmp/monero-node-5 --log-file=/dev/stdout --log-level=1 --simulation --disable-dns-checkpoints --out-peers=8 --in-peers=8 --disable-seed-nodes --no-igd --prep-blocks-threads=1 --max-concurrency=1 --no-zmq --db-sync-mode=safe --non-interactive --max-connections-per-ip=20 --limit-rate-up=2048 --limit-rate-down=2048 --block-sync-size=1 --rpc-bind-ip=11.0.0.5 --rpc-bind-port=28090 --confirm-external-bind --disable-rpc-ban --rpc-access-control-origins=* --regtest --p2p-bind-ip=11.0.0.5 --p2p-bind-port=28080 --fixed-difficulty=200
      environment:
        MONERO_MAX_CONNECTIONS_PER_IP: '20'
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MONERO_BLOCK_SYNC_SIZE: '1'
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
        MONERO_DISABLE_DNS: '1'
      start_time: 1s
  block-controller:
    network_node_id: 0
    processes:
    - path: /bin/bash
      args: -c 'cd /home/lever65/monerosim_dev/monerosim && source venv/bin/activate && python3 scripts/block_controller.py || exit $?'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 60s
  simple-test:
    network_node_id: 0
    processes:
    - path: /bin/bash
      args: -c 'cd /home/lever65/monerosim_dev/monerosim && source venv/bin/activate && python3 scripts/simple_test.py || exit $?'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 120s
  node-1:
    network_node_id: 0
    ip_addr: 11.0.0.1
    processes:
    - path: /home/lever65/monerosim_dev/monerosim/monerod
      args: --data-dir=/tmp/monero-node-1 --log-file=/dev/stdout --log-level=1 --simulation --disable-dns-checkpoints --out-peers=8 --in-peers=8 --disable-seed-nodes --no-igd --prep-blocks-threads=1 --max-concurrency=1 --no-zmq --db-sync-mode=safe --non-interactive --max-connections-per-ip=20 --limit-rate-up=2048 --limit-rate-down=2048 --block-sync-size=1 --rpc-bind-ip=11.0.0.1 --rpc-bind-port=28090 --confirm-external-bind --disable-rpc-ban --rpc-access-control-origins=* --regtest --p2p-bind-ip=11.0.0.1 --p2p-bind-port=28080 --fixed-difficulty=200
      environment:
        MONERO_MAX_CONNECTIONS_PER_IP: '20'
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MONERO_BLOCK_SYNC_SIZE: '1'
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
        MONERO_DISABLE_DNS: '1'
      start_time: 1s
  wallet2:
    network_node_id: 0
    ip_addr: 11.0.0.4
    processes:
    - path: /bin/bash
      args: -c 'rm -rf /tmp/wallet2_data && mkdir -p /tmp/wallet2_data && chmod 777 /tmp/wallet2_data && /home/lever65/monerosim_dev/monerosim/monero-wallet-rpc --daemon-address=11.0.0.2:28090 --rpc-bind-port=28092 --rpc-bind-ip=11.0.0.4 --disable-rpc-login --trusted-daemon --log-level=1 --wallet-dir=/tmp/wallet2_data --non-interactive --confirm-external-bind --allow-mismatched-daemon-version --max-concurrency=1 --daemon-ssl-allow-any-cert'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 45s
  node-4:
    network_node_id: 0
    ip_addr: 11.0.0.4
    processes:
    - path: /home/lever65/monerosim_dev/monerosim/monerod
      args: --data-dir=/tmp/monero-node-4 --log-file=/dev/stdout --log-level=1 --simulation --disable-dns-checkpoints --out-peers=8 --in-peers=8 --disable-seed-nodes --no-igd --prep-blocks-threads=1 --max-concurrency=1 --no-zmq --db-sync-mode=safe --non-interactive --max-connections-per-ip=20 --limit-rate-up=2048 --limit-rate-down=2048 --block-sync-size=1 --rpc-bind-ip=11.0.0.4 --rpc-bind-port=28090 --confirm-external-bind --disable-rpc-ban --rpc-access-control-origins=* --regtest --p2p-bind-ip=11.0.0.4 --p2p-bind-port=28080 --fixed-difficulty=200
      environment:
        MONERO_MAX_CONNECTIONS_PER_IP: '20'
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MONERO_BLOCK_SYNC_SIZE: '1'
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
        MONERO_DISABLE_DNS: '1'
      start_time: 1s
  monitor:
    network_node_id: 0
    processes:
    - path: /bin/bash
      args: -c 'cd /home/lever65/monerosim_dev/monerosim && source venv/bin/activate && python3 scripts/monitor.py || exit $?'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 30s
  p2p-test:
    network_node_id: 0
    processes:
    - path: /bin/bash
      args: -c 'cd /home/lever65/monerosim_dev/monerosim && source venv/bin/activate && python3 scripts/test_p2p_connectivity.py || exit $?'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 90s
  sync-check:
    network_node_id: 0
    processes:
    - path: /bin/bash
      args: -c 'cd /home/lever65/monerosim_dev/monerosim && source venv/bin/activate && python3 scripts/sync_check.py || exit $?'
      environment:
        GLIBC_TUNABLES: glibc.malloc.arena_max=1
        MALLOC_MMAP_THRESHOLD_: '131072'
        MALLOC_TRIM_THRESHOLD_: '131072'
        MALLOC_ARENA_MAX: '1'
      start_time: 300s
